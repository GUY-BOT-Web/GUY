<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GUY Dashboard</title>
    <style>
        /* CSS styles for server list */
        #server-list {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        .server-icon {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        .server-icon:hover {
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <header>
        <h1>GUY Dashboard</h1>
    </header>
    <main>
        <div id="server-list">
            <!-- Server list will be dynamically populated here -->
        </div>
    </main>
    <footer>
        <p>&copy; 2024 GUY Dashboard</p>
    </footer>

    <script>
        // Function to fetch server information and populate server list
        function fetchServerInfo() {
            fetch("https://discord.com/api/users/@me/guilds", {
                headers: {
                    Authorization: `Bearer ${accessToken}`
                }
            })
            .then(response => response.json())
            .then(guilds => {
                const serverList = document.getElementById("server-list");

                guilds.forEach(guild => {
                    const botPresent = guild.owner;
                    const serverIcon = document.createElement("img");
                    serverIcon.src = guild.icon_url;
                    serverIcon.alt = guild.name;
                    serverIcon.className = "server-icon";

                    if (!botPresent) {
                        serverIcon.title = "Invite bot";
                        serverIcon.addEventListener("click", () => {
                            inviteBot(guild.id);
                        });
                    } else {
                        serverIcon.addEventListener("click", () => {
                            openServerDashboard(guild.id);
                        });
                    }

                    serverList.appendChild(serverIcon);
                });
            })
            .catch(error => {
                console.error("Error fetching server information:", error);
                alert("Failed to fetch server information.");
            });
        }

        // Function to invite bot to a server
        function inviteBot(serverId) {
            // Logic to generate invite link and redirect user to invite page
            // Example:
            // window.location.href = `https://discord.com/oauth2/authorize?client_id=${clientId}&scope=bot&permissions=${permissions}&guild_id=${serverId}`;
            alert("Implement invite bot logic here.");
        }

        // Function to open server dashboard
        function openServerDashboard(serverId) {
            // Logic to navigate to server dashboard
            // Example:
            // window.location.href = `/server/${serverId}`;
            alert("Implement open server dashboard logic here.");
        }

        // Call fetchServerInfo() on page load to populate server list
        fetchServerInfo();
    </script>
</body>
</html>
